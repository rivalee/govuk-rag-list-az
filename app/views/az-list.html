
{% extends "layout.html" %}

{% block pageTitle %}
  GOV.UK Prototype Kit
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        Red, amber and green list rules for entering England
        </h1>

        <p class="govuk-body-m">
          Countries and territories are listed as either red, amber or green. The rules for testing and quarantine when you return to England are different for each list.
          </p><p class="govuk-body-m">Find out which list a country is on and the rules you must follow to enter England.</p>

<!-- Checkboxes to filter the list -->

<div class="filter-countries">
<div class="govuk-form-group">
  <fieldset class="govuk-fieldset" aria-describedby="fitering-hint">
      <h3 class="govuk-heading-m">
        Country status:
      </h3>

    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
      <div class="govuk-checkboxes__item">
        <input checked class="govuk-checkboxes__input" id="rag-red" name="waste" type="checkbox" value="red">
        <label class="govuk-label govuk-checkboxes__label" for="rag-red">
          Red countries
        </label>
      </div>
      <div class="govuk-checkboxes__item">
        <input checked class="govuk-checkboxes__input" id="rag-amber" name="waste" type="checkbox" value="amber">
        <label class="govuk-label govuk-checkboxes__label" for="rag-amber">
          Amber countries
        </label>
      </div>
      <div class="govuk-checkboxes__item">
        <input checked class="govuk-checkboxes__input" id="rag-green" name="waste" type="checkbox" value="green">
        <label class="govuk-label govuk-checkboxes__label" for="rag-green">
          Green countries
        </label>
      </div>
    </div>

  </fieldset>
</div>
</div>
<!-- Search input that filters the country list -->

        <div class="govuk-form-group">
          <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--m" for="country-input">
              Enter a country name
            </label>
          </h1>
          <input class="govuk-input" id="country-input" name="event-name" type="text">
        </div>

        </div>

        <div class="govuk-width-container">
          <main class="govuk-main-wrapper">

      <!-- List of countries -->

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full country-container">

          <div class="letter-category">
          <h1 class="govuk-heading-xl">A</h1>
          <ul class="govuk-body-m country-list">
          <li><a href="#">Afghanistan</a> </br><span class="govuk-body-s">Moved to the red list 4am Wednesday 30 June. If you arrived in England before then, you need to follow the amber list rules.</span>
          <span class="red-list govuk-tag--red">Red</span></li>
          <li><a href="#">Algeria</a> <span class="govuk-body-s amber-list">Amber</span></li>
          <li><a href="#">Angola</a> <span class="red-list govuk-tag--red">Red</span></li>
          <li><a href="#">Antarctica/British Antarctic Territory</a> <span class="govuk-body-s green-list">Green</span></li>
          <li><a href="#">Armenia</a> <span class="govuk-body-s amber-list">Amber</span></li>
          <li><a href="#">Australia</a> <span class="govuk-body-s green-list">Green</span></li>
          <li><a href="#">Azerbaijan</a> <span class="govuk-body-s green-list">Green</span></li>
          <li><a href="#">Albania</a> <span class="govuk-body-s amber-list">Amber</span></li>
          <li><a href="#">Andorrá</a> <span class="govuk-body-s amber-list">Amber</span></li>
          <li><a href="#">Anguilla</a> <span class="govuk-body-s green-list">Green</span></li>
          <li><a href="#">Antigua and Barbuda</a> <span class="govuk-body-s green-list">Green</span></li>
          <li><a href="#">Argentina</a> <span class="red-list govuk-tag--red">Red</span></li>
          <li><a href="#">Aruba</a> <span class="govuk-body-s amber-list">Amber</span></li>
          <li><a href="#">Austria</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
          </div>


          <div class="letter-category">
          <h1 class="govuk-heading-xl">B</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Bahamas</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Bangladesh</a> <span class="govuk-body-s red-list">Red</span></li>
            <li><a href="#">Belarus</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Belize</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Bermuda</a> <span class="govuk-body-s green-list">Green</span></li>
            <li><a href="#">Bolivia</a> <span class="govuk-body-s red-list">Red</span></li>

          </ul>
          </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">C</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Cambodia</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Canada</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Cayman Islands</a> <span class="govuk-body-s green-list">Green</span></li>

          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">D</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Democratic Republic of the Congo</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Denmark</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Djibouti</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">E</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Ecuador</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">F</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Falkland Islands</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">G</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Gabon</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">H</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Haiti</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">I</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Iceland</a> <span class="govuk-body-s amber-list">Amber</span></li>
        </ul>
      </div>

        <div class="letter-category">
          <h1 class="govuk-heading-xl">J</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Jamaica</a> <span class="govuk-body-s amber-list">Amber</span></li>
        </ul>
      </div>

        <div class="letter-category">
          <h1 class="govuk-heading-xl">K</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Kazakhstan</a> <span class="govuk-body-s amber-list">Amber</span></li>
        </ul>
      </div>

        <div class="letter-category">
          <h1 class="govuk-heading-xl">L</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Laos</a> <span class="govuk-body-s amber-list">Amber</span></li>
        </ul>
      </div>

        <div class="letter-category">
          <h1 class="govuk-heading-xl">M</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Macao</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">N</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Namibia</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">O</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Oman</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">P</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Pakistan</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">P</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Qatar</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">R</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Réunion</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">S</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Samoa</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">São Tomé and Principe</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Senegal</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Seychelles</a> <span class="govuk-body-s red-list">red</span></li>
            <li><a href="#">Singapore</a> <span class="govuk-body-s green-list">Green</span></li>
            <li><a href="#">Slovenia</a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Somalia</a> <span class="govuk-body-s red-list">Red</span></li>
            <li><a href="#">South Georgia and the South Sandwich Islands </a> <span class="govuk-body-s green-list">Green</span></li>
            <li><a href="#">Spain </a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">St Helena, Ascension and Tristan da Cunha </a> <span class="govuk-body-s green-list">Green</span></li>
            <li><a href="#">St Pierre & Miquelon </a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Sudan </a> <span class="govuk-body-s red-list">Red</span></li>
            <li><a href="amber">Sweden </a> <span class="govuk-body-s amber-list">Amber</span></li>
            <li><a href="#">Syria </a> <span class="govuk-body-s amber-list">Amber</span></li>

          </ul>
        </div>

          <div class="letter-category">
          <h1 class="govuk-heading-xl">T</h1>
          <ul class="govuk-body-m country-list">
            <li><a href="#">Taiwan</a> <span class="govuk-body-s amber-list">Amber</span></li>
          </ul>
          </div>

          <div class="no-country-results" style="display: none">
            <p class="govuk-body">No world locations match that filter.</p>
          </div>
        </div>
      </div>

    </main>
  </div>


    </div>
  </div>

<script>
document.getElementById('country-input').addEventListener('input', filterLocations)
document.getElementById('rag-red').addEventListener('change', filterLocations)
document.getElementById('rag-amber').addEventListener('change', filterLocations)
document.getElementById('rag-green').addEventListener('change', filterLocations)

function filterLocations() {
  var showingAny = false
  var filter = document.getElementById('country-input').value.trim()
  var showingRed = document.getElementById('rag-red').checked
  var showingAmber = document.getElementById('rag-amber').checked
  var showingGreen = document.getElementById('rag-green').checked

  document.querySelectorAll('.country-container .country-list').forEach(function (countryList) {
    var showingLetter = false

    // loop through all of the items in the list, each should represent a country
    countryList.querySelectorAll('li').forEach(function (countryListItem) {
      var show = true

      // don't show the country if they don't match the selected rag status
      if (
        (countryListItem.querySelector('.red-list') && !showingRed) ||
        (countryListItem.querySelector('.amber-list') && !showingAmber) ||
        (countryListItem.querySelector('.green-list') && !showingGreen)
      ) {
        show = false
      }

      // if a filter is set check whether it matches a particular country's name
      if (filter !== '') {
        var currentName = countryListItem.querySelector('a').textContent
        var normalisedName = currentName.normalize('NFD').replace(/\p{Diacritic}/gu, '').toLowerCase()
        console.log(normalisedName)

        if (!currentName.includes(filter) && !normalisedName.includes(filter.toLowerCase())) {
          show = false
        }
      }

      // if we're showing one country in a group then we want to show the whole letter section
      if (show) {
        showingLetter = true
        countryListItem.style.display = ''
      } else {
        countryListItem.style.display = 'none'
      }
    })

    if (showingLetter) {
      showingAny = true
      countryList.parentNode.style.display = ''
    } else {
      countryList.parentNode.style.display = 'none'
    }
  })

  // show a no results message if we've found nothing.
  document.querySelector(".no-country-results").style.display = showingAny ? 'none' : ''
}

</script>
{% endblock %}
